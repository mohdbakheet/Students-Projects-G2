# Students-Projects-G2
#
يعيش السودان أوضاعاً صحية كارثية نتيجة لتفشّي وباء الكوليرا، مع دخول الحرب عامها الثالث ويواجه السودانيون واقعاً مزرياً؛ إذ بجانب الكوليرا، تنتشر الملاريا وحُمّى الضنك، في ظل نظام صحيّ مُتداع.
العديد من الأفراد ممن عادوا إلى منازلهم بعد سيطرة الجيش على العاصمة الخرطوم، يرغبون في المغادرة مجدداً خاصة بعد تفشي مرض الكوليرا في العاصمة وعدد من الولايات، إذ أعلنت وزارة الصحة السودانية، انتشار المرض في كل من (شمال كردفان، وسنار، والجزيرة، والنيل الأبيض ونهر النيل).
 
لذلك استخدام النماذج الرياضية في التحكم والحد من انتشار المرض يساعد كثيرا في التنبؤ بمسار انتشار المرض  ومعرفة كيف سيتطور عدد الإصابات بمرور الوقت وتقدير سرعة الانتشار حساب معدل الانتقال بين الأفراد و تقييم فعالية التدخلات( مثل الحجر الصحي، حملات التوعية، التطعيم أو إغلاق المدارس) وتوزيع الموارد الصحية(مستشفيات، أجهزة تنفس، أدوية) بطريقة أفضل بناءً على التوقعات واخيرا وضع خطط استباقية استعدادا لموجات جديدة من المرض وتحديد الفئات الأكثر عرضة لمعرفة أين يجب أن تركز الجهود الوقائية.

```python
# ==============================
# بيانات المستخدم (أسبوعية)
# ==============================
weeks = np.arange(36, 51)  # من الأسبوع 36 إلى 50
cases_data = np.array([
    64, 52, 101, 168, 175,
    279, 393, 472, 324, 517,
    460, 722, 1059, 1495, 1140
])
deaths_data = np.array([
    4, 2, 7, 14, 11,
    12, 8, 7, 8, 13,
    18, 18, 30, 32, 21
])

# ==============================
# المعلمات الثابتة (قابلة للتغيير من الأدبيات)
# ==============================
sigma = 1/5     # معدل الانتقال من E -> I (فترة حضانة ~5 أيام)
gamma = 1/7     # معدل الشفاء (مدة المرض ~7 أيام)
mu = 0.001      # معدل الوفاة من المرض
kappa = 1       # ثابت الإشباع البيئي

# ==============================
# معادلات SEICR + C
# ==============================
def seicr_model(t, y, N, beta1, beta2, eta, epsilon):
    S, E, I, R, C = y
    lam = (beta1 * I / N) + beta2 * C / (kappa + C)  # قوة العدوى
    
    dS = - lam * S
    dE = lam * S - sigma * E
    dI = sigma * E - (gamma + mu) * I
    dR = gamma * I
    dC = eta * I + epsilon * C
    
    return [dS, dE, dI, dR, dC]

# ==============================
# دالة المحاكاة
# ==============================
def simulate_seicr(weeks, N, beta1, beta2, eta, epsilon, I0=10):
    # القيم الابتدائية
    S0 = N - I0
    E0 = 0
    R0 = 0
    C0 = 0
    y0 = [S0, E0, I0, R0, C0]
    
    t_span = [0, len(weeks)*7]  # نحاكي بالأيام
    t_eval = np.arange(0, len(weeks)*7, 7)  # نقاط أسبوعية
    
    sol = solve_ivp(seicr_model, t_span, y0, args=(N, beta1, beta2, eta, epsilon), t_eval=t_eval)
    
    # القيم المتوقعة للحالات الجديدة = sigma * E (عدد الداخلين إلى I كل أسبوع)
    E_vals = sol.y[1]
    new_cases = sigma * E_vals  # معدل يومي
    weekly_cases = new_cases * 7  # تحويل إلى أسبوعي تقريبًا
    
    return weekly_cases

# ==============================
# دالة الملائمة (curve_fit)
# ==============================
def fit_func(weeks, beta1, beta2, eta, epsilon):
    N = 1_000_000  # تقدير حجم السكان
    pred = simulate_seicr(weeks, N, beta1, beta2, eta, epsilon)
    return pred

# ==============================
# تقدير المعاملات
# ==============================
p0 = [0.5, 0.1, 0.05, 0.01]  # قيم ابتدائية: [beta1, beta2, eta, epsilon]
params, cov = curve_fit(fit_func, weeks, cases_data, p0=p0, bounds=(0, np.inf))
beta1_fit, beta2_fit, eta_fit, epsilon_fit = params

print("المعاملات المقدرة:")
print(f"β1 = {beta1_fit:.4f}, β2 = {beta2_fit:.4f}, η = {eta_fit:.4f}, ε = {epsilon_fit:.4f}")

# ==============================
# رسم النتائج
# ==============================
pred_cases = fit_func(weeks, *params)

plt.figure(figsize=(10,6))
plt.plot(weeks, cases_data, "o", label="البيانات الفعلية")
plt.plot(weeks, pred_cases, "-r", label="النموذج الملائم")
plt.xlabel("الأسبوع")
plt.ylabel("عدد الحالات")
plt.legend()
plt.title("محاكاة وتقدير نموذج SEICR للكوليرا")
plt.show()

```
